name: Build Flutter iOS

on:
  workflow_dispatch:
  push:
    branches: [main]

jobs:
  build:
    runs-on: macos-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Flutter
      uses: subosito/flutter-action@v2
      with:
        flutter-version: "stable"
    
    - name: Print environment info
      run: |
        echo "=== Current directory ==="
        pwd
        echo ""
        echo "=== Files in project ==="
        ls -la
        echo ""
        echo "=== Flutter version ==="
        flutter --version
        echo ""
        echo "=== Check for iOS folder ==="
        if [ -d "ios" ]; then
          echo "✅ iOS folder exists"
          ls ios/
        else
          echo "❌ iOS folder NOT found"
        fi